<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0" />
    <title>Aria — génération en cours</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/after_auth.css') }}" />
</head>
<body data-status="{{ status }}" data-message="{{ error_message | e }}">
<div class="screen">
    <div class="card">
        <div class="sphere-wrapper">
            <div class="sphere"></div>
        </div>

        <div class="loader-title" id="loader-title">
            {% if status == "error" %}
                Connexion Spotify interrompue
            {% else %}
                Aria recherche des pépites
            {% endif %}
        </div>
        <div class="loader-step" id="loader-step">
            {% if status == "error" %}
                {{ error_message }}
            {% else %}
                Création de ta playlist…
            {% endif %}
        </div>

        <div class="progress-bar-shell">
            <div class="progress-bar-fill"></div>
        </div>

        <div class="manual-close-msg" id="manual-close-msg">
            Aria a terminé ! Tu peux fermer cette fenêtre.
        </div>

        <div class="error-msg" id="error-msg">
            Oups. Impossible de terminer la génération. <br/>
            Recharge la page d’accueil.
        </div>
    </div>
</div>
    <script src="{{ url_for('static', filename='js/after_auth.js') }}" defer></script>
</body>
</html>
